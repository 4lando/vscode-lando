{
  "name": "vscode-lando",
  "displayName": "Lando",
  "description": "Lando integration for Visual Studio Code",
  "publisher": "4lando",
  "author": {
    "name": "Aaron Feledy"
  },
  "version": "1.0.0-beta.1",
  "repository": "https://github.com/lando-community/vscode-lando",
  "icon": "resources/icon256.png",
  "engines": {
    "vscode": "^1.91.0"
  },
  "categories": [
    "Other"
  ],
  "keywords": [
    "lando",
    "php",
    "docker",
    "drupal",
    "ddev"
  ],
  "activationEvents": [
    "workspaceContains:**/.lando.yml",
    "workspaceContains:**/.lando.*.yml"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "lando-explorer",
          "title": "Lando",
          "icon": "resources/lando-activitybar.svg"
        }
      ]
    },
    "views": {
      "lando-explorer": [
        {
          "id": "landoExplorer",
          "name": "Apps",
          "contextualTitle": "Lando Apps"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "landoExplorer",
        "contents": "No Lando apps found in this workspace.\n\nCreate a `.lando.yml` file to get started.\n\n[Open Documentation](command:extension.openLandoDocumentation)"
      }
    ],
    "languages": [
      {
        "id": "landofile",
        "aliases": [
          "Landofile",
          "landofile"
        ],
        "filenamePatterns": [
          "**/.lando.yml",
          "**/.lando.*.yml"
        ],
        "icon": {
          "light": "./resources/landofile.svg",
          "dark": "./resources/landofile.svg"
        },
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "landofile",
        "scopeName": "source.landofile",
        "path": "./syntaxes/landofile.tmLanguage.json",
        "embeddedLanguages": {
          "meta.embedded.block.shell": "source.shell",
          "meta.embedded.line.shell": "source.shell"
        }
      }
    ],
    "commands": [
      {
        "command": "extension.runLando",
        "title": "Run Lando Command"
      },
      {
        "command": "extension.enablePhpInterpreter",
        "title": "Enable Lando PHP Interpreter"
      },
      {
        "command": "extension.disablePhpInterpreter",
        "title": "Disable Lando PHP Interpreter"
      },
      {
        "command": "extension.setPhpEnvironment",
        "title": "Set PHP Environment in Terminal"
      },
      {
        "command": "extension.checkLandoStatus",
        "title": "Check Lando Status"
      },
      {
        "command": "extension.refreshPhpConfig",
        "title": "Refresh PHP Configuration"
      },
      {
        "command": "extension.testPhpWrapper",
        "title": "Test PHP Wrapper"
      },
      {
        "command": "extension.checkPhpPlugins",
        "title": "Check and Reload PHP Plugins"
      },
      {
        "command": "extension.showLandofileInfo",
        "title": "Show Landofile Language Info"
      },
      {
        "command": "extension.selectLandoApp",
        "title": "Select Lando App"
      },
      {
        "command": "extension.rescanLandoApps",
        "title": "Rescan for Lando Apps"
      },
      {
        "command": "extension.refreshLandoStatus",
        "title": "Refresh Lando Status"
      },
      {
        "command": "extension.startLandoApp",
        "title": "Lando: Start App"
      },
      {
        "command": "extension.stopLandoApp",
        "title": "Lando: Stop App"
      },
      {
        "command": "extension.restartLandoApp",
        "title": "Lando: Restart App"
      },
      {
        "command": "extension.openLandoUrl",
        "title": "Lando: Open App URL"
      },
      {
        "command": "extension.copyLandoUrl",
        "title": "Lando: Copy App URL"
      },
      {
        "command": "extension.viewLandoLogs",
        "title": "Lando: View Logs"
      },
      {
        "command": "extension.runLandoTooling",
        "title": "Lando: Run Tooling Command"
      },
      {
        "command": "extension.openLandoDocumentation",
        "title": "Lando: Open Documentation"
      },
      {
        "command": "extension.rebuildLandoApp",
        "title": "Lando: Rebuild App",
        "icon": "$(refresh)"
      },
      {
        "command": "extension.destroyLandoApp",
        "title": "Lando: Destroy App",
        "icon": "$(trash)"
      },
      {
        "command": "extension.powerOffLando",
        "title": "Lando: Power Off",
        "icon": "$(debug-disconnect)"
      },
      {
        "command": "extension.openLandoTerminal",
        "title": "Lando: Open Terminal (SSH)",
        "icon": "$(terminal)"
      },
      {
        "command": "lando.refreshExplorer",
        "title": "Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "lando.treeStartApp",
        "title": "Start",
        "icon": "$(debug-start)"
      },
      {
        "command": "lando.treeStopApp",
        "title": "Stop",
        "icon": "$(debug-stop)"
      },
      {
        "command": "lando.treeRestartApp",
        "title": "Restart",
        "icon": "$(debug-restart)"
      },
      {
        "command": "lando.treeOpenTerminal",
        "title": "Open Terminal (SSH)",
        "icon": "$(terminal)"
      },
      {
        "command": "lando.treeCopyUrl",
        "title": "Copy URL",
        "icon": "$(copy)"
      },
      {
        "command": "lando.treeOpenSshService",
        "title": "SSH into Service",
        "icon": "$(terminal)"
      },
      {
        "command": "lando.openUrlDirect",
        "title": "Open URL"
      },
      {
        "command": "lando.runToolingDirect",
        "title": "Run Tooling Command"
      },
      {
        "command": "lando.copyInfoValue",
        "title": "Copy Value"
      },
      {
        "command": "lando.treeCopyInfo",
        "title": "Copy Value",
        "icon": "$(copy)"
      },
      {
        "command": "lando.treeViewServiceLogs",
        "title": "View Logs",
        "icon": "$(output)"
      },
      {
        "command": "lando.copyConnectionString",
        "title": "Copy Connection String"
      },
      {
        "command": "lando.treeCopyConnectionString",
        "title": "Copy Connection String",
        "icon": "$(copy)"
      }
    ],
    "submenus": [
      {
        "id": "lando.submenu",
        "label": "Lando"
      }
    ],
    "menus": {
      "lando.submenu": [
        {
          "command": "extension.startLandoApp",
          "group": "1_lifecycle@1",
          "when": "lando:hasActiveApp && !lando:appRunning"
        },
        {
          "command": "extension.stopLandoApp",
          "group": "1_lifecycle@2",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.restartLandoApp",
          "group": "1_lifecycle@3",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.rebuildLandoApp",
          "group": "1_lifecycle@4",
          "when": "lando:hasActiveApp"
        },
        {
          "command": "extension.destroyLandoApp",
          "group": "1_lifecycle@5",
          "when": "lando:hasActiveApp"
        },
        {
          "command": "extension.powerOffLando",
          "group": "1_lifecycle@6"
        },
        {
          "command": "extension.openLandoUrl",
          "group": "2_access@1",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.copyLandoUrl",
          "group": "2_access@2",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.openLandoTerminal",
          "group": "2_access@3",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.viewLandoLogs",
          "group": "3_tools@1",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.runLandoTooling",
          "group": "3_tools@2",
          "when": "lando:hasActiveApp && lando:appRunning"
        },
        {
          "command": "extension.refreshLandoStatus",
          "group": "4_info@1",
          "when": "lando:hasActiveApp"
        },
        {
          "command": "extension.openLandoDocumentation",
          "group": "4_info@2"
        }
      ],
      "explorer/context": [
        {
          "submenu": "lando.submenu",
          "group": "2_workspace",
          "when": "lando:hasApps"
        }
      ],
      "editor/context": [
        {
          "submenu": "lando.submenu",
          "group": "z_commands",
          "when": "lando:hasApps && resourceLangId == landofile"
        }
      ],
      "editor/title/context": [
        {
          "submenu": "lando.submenu",
          "group": "2_files",
          "when": "lando:hasApps && resourceLangId == landofile"
        }
      ],
      "view/title": [
        {
          "command": "lando.refreshExplorer",
          "when": "view == landoExplorer",
          "group": "navigation"
        },
        {
          "command": "extension.powerOffLando",
          "when": "view == landoExplorer",
          "group": "2_actions"
        }
      ],
      "view/item/context": [
        {
          "command": "lando.treeStartApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "inline@1"
        },
        {
          "command": "lando.treeStopApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "inline@2"
        },
        {
          "command": "lando.treeOpenTerminal",
          "when": "view == landoExplorer && viewItem == app",
          "group": "inline@3"
        },
        {
          "command": "lando.treeStartApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "1_lifecycle@1"
        },
        {
          "command": "lando.treeStopApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "1_lifecycle@2"
        },
        {
          "command": "lando.treeRestartApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "1_lifecycle@3"
        },
        {
          "command": "extension.rebuildLandoApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "1_lifecycle@4"
        },
        {
          "command": "extension.destroyLandoApp",
          "when": "view == landoExplorer && viewItem == app",
          "group": "1_lifecycle@5"
        },
        {
          "command": "lando.treeOpenTerminal",
          "when": "view == landoExplorer && viewItem == app",
          "group": "2_access@1"
        },
        {
          "command": "extension.openLandoUrl",
          "when": "view == landoExplorer && viewItem == app",
          "group": "2_access@2"
        },
        {
          "command": "extension.viewLandoLogs",
          "when": "view == landoExplorer && viewItem == app",
          "group": "3_tools@1"
        },
        {
          "command": "extension.runLandoTooling",
          "when": "view == landoExplorer && viewItem == app",
          "group": "3_tools@2"
        },
        {
          "command": "lando.treeOpenSshService",
          "when": "view == landoExplorer && viewItem == service",
          "group": "inline"
        },
        {
          "command": "lando.treeOpenSshService",
          "when": "view == landoExplorer && viewItem == service",
          "group": "1_access@1"
        },
        {
          "command": "lando.treeCopyUrl",
          "when": "view == landoExplorer && viewItem == url",
          "group": "inline"
        },
        {
          "command": "lando.treeCopyUrl",
          "when": "view == landoExplorer && viewItem == url",
          "group": "1_access@1"
        },
        {
          "command": "lando.treeViewServiceLogs",
          "when": "view == landoExplorer && viewItem == service",
          "group": "1_access@2"
        },
        {
          "command": "lando.treeCopyInfo",
          "when": "view == landoExplorer && viewItem == infoItem",
          "group": "inline"
        },
        {
          "command": "lando.treeCopyInfo",
          "when": "view == landoExplorer && viewItem == infoItem",
          "group": "1_access@1"
        },
        {
          "command": "lando.treeCopyConnectionString",
          "when": "view == landoExplorer && viewItem == connectionString",
          "group": "inline"
        },
        {
          "command": "lando.treeCopyConnectionString",
          "when": "view == landoExplorer && viewItem == connectionString",
          "group": "1_access@1"
        }
      ]
    },
    "configuration": {
      "title": "Lando",
      "properties": {
        "lando.appMount": {
          "type": "string",
          "default": "/app",
          "description": "The app directory inside the Lando container"
        },
        "lando.autoStart": {
          "type": "boolean",
          "default": false,
          "description": "Automatically start Lando apps"
        },
        "lando.php.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Lando PHP interpreter"
        },
        "lando.php.service": {
          "type": "string",
          "default": "appserver",
          "description": "The Lando service used for PHP execution"
        },
        "lando.php.reloadPlugins": {
          "type": "boolean",
          "default": true,
          "description": "Reload PHP plugins after Lando commands"
        },
        "lando.detection.maxDepth": {
          "type": "number",
          "default": 3,
          "minimum": 1,
          "maximum": 10,
          "description": "Maximum directory depth to search for .lando.yml files"
        },
        "lando.detection.excludeDirs": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "node_modules",
            "vendor",
            ".git",
            "dist",
            "build",
            "out",
            ".cache",
            "coverage"
          ],
          "description": "Directories to exclude when scanning for Lando apps"
        },
        "lando.statusMonitoring.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable real-time status monitoring of Lando apps"
        },
        "lando.statusMonitoring.interval": {
          "type": "number",
          "default": 10,
          "minimum": 5,
          "maximum": 300,
          "description": "Status polling interval in seconds"
        },
        "lando.statusMonitoring.timeout": {
          "type": "number",
          "default": 10,
          "minimum": 5,
          "maximum": 60,
          "description": "Timeout for status check commands in seconds"
        },
        "lando.tooling.showInQuickPick": {
          "type": "boolean",
          "default": true,
          "description": "Show tooling commands in the Lando quick pick menu"
        },
        "lando.tooling.showServiceInfo": {
          "type": "boolean",
          "default": true,
          "description": "Show service information in tooling command descriptions"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run build",
    "prebuild": "rm -rf out",
    "build": "tsc -p ./",
    "lint": "eslint src",
    "prewatch": "rm -rf out",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run lint && npm run build",
    "test": "node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/js-yaml": "^4.0.9",
    "@types/minimatch": "^5.1.2",
    "@types/mocha": "^10.0.10",
    "@types/node": "^20.17.32",
    "@types/sinon": "^17.0.4",
    "@types/vscode": "^1.99.1",
    "@typescript-eslint/eslint-plugin": "^8.31.1",
    "@typescript-eslint/parser": "^8.31.1",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.5.2",
    "eslint": "^9.25.1",
    "mocha": "^11.2.2",
    "sinon": "^20.0.0",
    "typescript": "^5.8.2"
  },
  "dependencies": {
    "ajv": "^8.18.0",
    "glob": "^11.1.0",
    "js-yaml": "^4.1.1",
    "minimatch": "^10.2.4"
  }
}
